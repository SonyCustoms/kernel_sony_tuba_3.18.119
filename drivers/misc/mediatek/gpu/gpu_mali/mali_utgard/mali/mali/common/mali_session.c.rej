--- drivers/misc/mediatek/gpu/gpu_mali/mali_utgard/mali/mali/common/mali_session.c
+++ drivers/misc/mediatek/gpu/gpu_mali/mali_utgard/mali/mali/common/mali_session.c
@@ -139,9 +146,16 @@ void mali_session_memory_tracking(_mali_osk_print_ctx *print_ctx)
 				    (unsigned int)((atomic_read(&session->mali_mem_array[MALI_MEM_DMA_BUF])) * _MALI_OSK_MALI_PAGE_SIZE)
 				   );
 #endif
+#ifdef ENABLE_MTK_MEMINFO
+		mtk_gpu_meminfo_set(mtk_kbase_gpu_meminfo_index, session->pid, (atomic_read(&session->mali_mem_allocated_pages)));
+		mtk_kbase_gpu_meminfo_index++;
+#endif /* ENABLE_MTK_MEMINFO */
 	}
 	mali_session_unlock();
 	mali_mem_usage  = _mali_ukk_report_memory_usage();
+#ifdef ENABLE_MTK_MEMINFO
+    g_mtk_gpu_total_memory_usage_in_pages_debugfs = mali_mem_usage/4096;
+#endif /* ENABLE_MTK_MEMINFO */
 	total_mali_mem_size = _mali_ukk_report_total_memory_size();
 	_mali_osk_ctxprintf(print_ctx, "Mali mem usage: %u\nMali mem limit: %u\n", mali_mem_usage, total_mali_mem_size);
 #ifdef MALI_MEM_SWAP_TRACKING
