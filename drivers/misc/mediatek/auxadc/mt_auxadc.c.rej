--- drivers/misc/mediatek/auxadc/mt_auxadc.c
+++ drivers/misc/mediatek/auxadc/mt_auxadc.c
@@ -480,6 +480,8 @@ void mt_auxadc_hal_init(struct platform_device *dev)
 	/* AUXADC_DRV_SetBits16((volatile u16 *)AUXADC_CON_RTP, 1);             //disable RTP */
 }
 
+
+#ifdef CONFIG_PM
 static void mt_auxadc_hal_suspend(void)
 {
 	pr_debug("******** MT auxadc driver suspend!! ********\n");
@@ -514,9 +516,20 @@ static void mt_auxadc_hal_resume(void)
 	mt_auxadc_power_on();
 	/* AUXADC_DRV_SetBits16((volatile u16 *)AUXADC_CON_RTP, 1);             //disable RTP */
 }
+#endif
 
 static int mt_auxadc_dump_register(char *buf)
 {
+	if (buf == NULL) {
+		pr_debug("[%s] Invalid input!!\n", __func__);
+		return 0;
+	}
+
+	if (strlen(buf) < 64) {
+		pr_debug("[%s] Invalid input!!\n", __func__);
+		return 0;
+	}
+
 	pr_debug("[auxadc]: AUXADC_CON0=%x\n", *(volatile u16 *)AUXADC_CON0);
 	pr_debug("[auxadc]: AUXADC_CON1=%x\n", *(volatile u16 *)AUXADC_CON1);
 	pr_debug("[auxadc]: AUXADC_CON2=%x\n", *(volatile u16 *)AUXADC_CON2);
@@ -1895,6 +1922,8 @@ static void mt_auxadc_shutdown(struct platform_device *dev)
 	pr_debug("******** MT auxadc driver shutdown!! ********\n");
 }
 
+
+#ifdef CONFIG_PM
 static int mt_auxadc_suspend(struct platform_device *dev, pm_message_t state)
 {
 	/* pr_debug("******** MT auxadc driver suspend!! ********\n" ); */
